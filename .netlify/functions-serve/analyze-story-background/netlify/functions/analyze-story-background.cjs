"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// netlify/functions/analyze-story-background.ts
var analyze_story_background_exports = {};
__export(analyze_story_background_exports, {
  default: () => analyze_story_background_default
});
module.exports = __toCommonJS(analyze_story_background_exports);

// lib/supabase.ts
var import_supabase_js = require("@supabase/supabase-js");
var supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
var supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
var supabase = (0, import_supabase_js.createClient)(supabaseUrl, supabaseAnonKey);
async function updateAgentStory(id, data) {
  const { data: result, error } = await supabase.from("agent_stories").update(data).eq("id", id).select().single();
  if (error) {
    console.error("Error updating agent story:", error);
    throw error;
  }
  return result;
}

// netlify/functions/analyze-story-background.ts
var import_genai = require("@google/genai");
var GEMINI_API_KEY = process.env.GEMINI_API_KEY;
var analyze_story_background_default = async (req) => {
  const startTime = Date.now();
  console.log("[Agent Story] Starting background analysis with Gemini 3...");
  try {
    const url = new URL(req.url);
    const emiten = url.searchParams.get("emiten")?.toUpperCase();
    const storyId = url.searchParams.get("id");
    if (!emiten || !storyId) {
      return new Response(JSON.stringify({ error: "Missing emiten or id" }), { status: 400 });
    }
    let keyStatsData = null;
    try {
      const body = await req.json();
      keyStatsData = body.keyStats;
    } catch (e) {
      console.log("[Agent Story] No JSON body found or invalid JSON");
    }
    if (!GEMINI_API_KEY) {
      await updateAgentStory(parseInt(storyId), {
        status: "error",
        error_message: "GEMINI_API_KEY not configured"
      });
      return new Response(JSON.stringify({ error: "API key not configured" }), { status: 500 });
    }
    await updateAgentStory(parseInt(storyId), { status: "processing" });
    console.log(`[Agent Story] Analyzing ${emiten} using Gemini 3 Flash Preview (Thinking HIGH)...`);
    const ai = new import_genai.GoogleGenAI({
      apiKey: GEMINI_API_KEY
    });
    const config = {
      thinkingConfig: {
        thinkingLevel: import_genai.ThinkingLevel.HIGH
      }
    };
    const today = (/* @__PURE__ */ new Date()).toLocaleDateString("id-ID", { day: "numeric", month: "long", year: "numeric" });
    const model = "gemini-3-flash-preview";
    const systemPrompt = "Kamu adalah seorang analis saham profesional Indonesia yang ahli dalam menganalisa story dan katalis pergerakan harga saham.";
    let keyStatsContext = "";
    if (keyStatsData) {
      keyStatsContext = `
DATA KEY STATISTICS UNTUK ${emiten}:
` + JSON.stringify(keyStatsData, null, 2) + "\n";
    }
    const userPrompt = `Hari ini adalah ${today}.
Cari dan analisa berita-berita TERBARU (bulan ini/minggu ini) tentang emiten saham Indonesia dengan kode ${emiten} dari internet menggunakan Google Search. 
${keyStatsContext}
FOKUS ANALISA:
1. Fokus sepenuhnya pada STORY BISNIS, AKSI KORPORASI, dan KATALIS fundamental/sentimen.
2. ABAIKAN data harga saham (price action) karena data harga dari internet seringkali tidak akurat atau delay. Jangan menyebutkan angka harga saham spesifik dalam analisis.
3. Hubungkan berita yang ditemukan dengan logika pasar: mengapa berita ini bagus atau buruk untuk masa depan perusahaan?
4. Sebutkan tanggal rilis berita yang kamu gunakan sebagai referensi di dalam deskripsi katalis.
5. Terjemahkan data Key Statistics (pahami data di atas jika tersedia) ke dalam bahasa yang mudah dipahami tapi detail untuk investasi. Berikan kesimpulan apakah data tersebut memberikan signal 'Positif/Sehat', 'Neutral', atau 'Negatif/Hati-hati' untuk investasi jangka pendek dan panjang.

Berikan analisis dalam format JSON dengan struktur berikut (PASTIKAN HANYA OUTPUT JSON, tanpa markdown code block agar mudah di-parse):
{
  "matriks_story": [
    {
      "kategori_story": "Transformasi Bisnis | Aksi Korporasi | Pemulihan Fundamental | Kondisi Makro",
      "deskripsi_katalis": "deskripsi singkat katalis",
      "logika_ekonomi_pasar": "penjelasan logika ekonomi/pasar",
      "potensi_dampak_harga": "dampak terhadap harga saham negatif/netral/positif dan alasan"
    }
  ],
  "swot_analysis": {
    "strengths": ["kekuatan perusahaan"],
    "weaknesses": ["kelemahan perusahaan"],
    "opportunities": ["peluang pasar"],
    "threats": ["ancaman/risiko"]
  },
  "checklist_katalis": [
    {
      "item": "katalis yang perlu dipantau",
      "dampak_instan": "dampak jika terjadi"
    }
  ],
  "strategi_trading": {
    "tipe_saham": "jenis saham (growth/value/turnaround/dll)",
    "target_entry": "area entry yang disarankan",
    "exit_strategy": {
      "take_profit": "target take profit",
      "stop_loss": "level stop loss"
    }
  },
  "keystat_signal": "analisis data key statistics dalam bahasa awam dengan indikasi signal investasi",
  "kesimpulan": "kesimpulan analisis dalam 2-3 kalimat"
}`;
    const contents = [
      {
        role: "user",
        parts: [
          {
            text: `${systemPrompt}

${userPrompt}`
          }
        ]
      }
    ];
    const tools = [
      {
        googleSearch: {}
      }
    ];
    const responseStream = await ai.models.generateContentStream({
      model,
      config,
      contents,
      tools
    });
    let fullText = "";
    for await (const chunk of responseStream) {
      if (chunk.text) {
        fullText += chunk.text;
      }
    }
    console.log("[Agent Story] Gemini response received via stream");
    let analysisResult;
    try {
      const jsonMatch = fullText.match(/\{[\s\S]*\}/);
      if (jsonMatch) {
        analysisResult = JSON.parse(jsonMatch[0]);
      } else {
        throw new Error("No JSON found in response");
      }
    } catch (parseError) {
      console.error("[Agent Story] Failed to parse response:", parseError);
      console.log("[Agent Story] Raw response:", fullText);
      await updateAgentStory(parseInt(storyId), {
        status: "error",
        error_message: "Failed to parse AI response"
      });
      return new Response(JSON.stringify({ error: "Parse error" }), { status: 500 });
    }
    await updateAgentStory(parseInt(storyId), {
      status: "completed",
      matriks_story: analysisResult.matriks_story || [],
      swot_analysis: analysisResult.swot_analysis || {},
      checklist_katalis: analysisResult.checklist_katalis || [],
      keystat_signal: analysisResult.keystat_signal || "",
      strategi_trading: analysisResult.strategi_trading || {},
      kesimpulan: analysisResult.kesimpulan || ""
    });
    const duration = (Date.now() - startTime) / 1e3;
    console.log(`[Agent Story] Analysis completed for ${emiten} in ${duration}s`);
    return new Response(JSON.stringify({ success: true, emiten }), { status: 200 });
  } catch (error) {
    console.error("[Agent Story] Critical error:", error);
    return new Response(JSON.stringify({ error: String(error) }), { status: 500 });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibmV0bGlmeS9mdW5jdGlvbnMvYW5hbHl6ZS1zdG9yeS1iYWNrZ3JvdW5kLnRzIiwgImxpYi9zdXBhYmFzZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgdXBkYXRlQWdlbnRTdG9yeSB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZSc7XHJcbmltcG9ydCB7IEdvb2dsZUdlbkFJLCBUaGlua2luZ0xldmVsIH0gZnJvbSAnQGdvb2dsZS9nZW5haSc7XHJcblxyXG5jb25zdCBHRU1JTklfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcTogUmVxdWVzdCkgPT4ge1xyXG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgY29uc29sZS5sb2coJ1tBZ2VudCBTdG9yeV0gU3RhcnRpbmcgYmFja2dyb3VuZCBhbmFseXNpcyB3aXRoIEdlbWluaSAzLi4uJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xyXG4gICAgY29uc3QgZW1pdGVuID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2VtaXRlbicpPy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgY29uc3Qgc3RvcnlJZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdpZCcpO1xyXG5cclxuICAgIGlmICghZW1pdGVuIHx8ICFzdG9yeUlkKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ01pc3NpbmcgZW1pdGVuIG9yIGlkJyB9KSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQga2V5U3RhdHNEYXRhID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgICBrZXlTdGF0c0RhdGEgPSBib2R5LmtleVN0YXRzO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW0FnZW50IFN0b3J5XSBObyBKU09OIGJvZHkgZm91bmQgb3IgaW52YWxpZCBKU09OJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFHRU1JTklfQVBJX0tFWSkge1xyXG4gICAgICBhd2FpdCB1cGRhdGVBZ2VudFN0b3J5KHBhcnNlSW50KHN0b3J5SWQpLCB7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIGVycm9yX21lc3NhZ2U6ICdHRU1JTklfQVBJX0tFWSBub3QgY29uZmlndXJlZCdcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0FQSSBrZXkgbm90IGNvbmZpZ3VyZWQnIH0pLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBzdGF0dXMgdG8gcHJvY2Vzc2luZ1xyXG4gICAgYXdhaXQgdXBkYXRlQWdlbnRTdG9yeShwYXJzZUludChzdG9yeUlkKSwgeyBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0FnZW50IFN0b3J5XSBBbmFseXppbmcgJHtlbWl0ZW59IHVzaW5nIEdlbWluaSAzIEZsYXNoIFByZXZpZXcgKFRoaW5raW5nIEhJR0gpLi4uYCk7XHJcblxyXG4gICAgY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoe1xyXG4gICAgICBhcGlLZXk6IEdFTUlOSV9BUElfS0VZLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICB0aGlua2luZ0NvbmZpZzoge1xyXG4gICAgICAgIHRoaW5raW5nTGV2ZWw6IFRoaW5raW5nTGV2ZWwuSElHSCxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnaWQtSUQnLCB7IGRheTogJ251bWVyaWMnLCBtb250aDogJ2xvbmcnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XHJcbiAgICBjb25zdCBtb2RlbCA9ICdnZW1pbmktMy1mbGFzaC1wcmV2aWV3JztcclxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IFwiS2FtdSBhZGFsYWggc2VvcmFuZyBhbmFsaXMgc2FoYW0gcHJvZmVzaW9uYWwgSW5kb25lc2lhIHlhbmcgYWhsaSBkYWxhbSBtZW5nYW5hbGlzYSBzdG9yeSBkYW4ga2F0YWxpcyBwZXJnZXJha2FuIGhhcmdhIHNhaGFtLlwiO1xyXG4gICAgXHJcbiAgICBsZXQga2V5U3RhdHNDb250ZXh0ID0gJyc7XHJcbiAgICBpZiAoa2V5U3RhdHNEYXRhKSB7XHJcbiAgICAgIGtleVN0YXRzQ29udGV4dCA9IGBcXG5EQVRBIEtFWSBTVEFUSVNUSUNTIFVOVFVLICR7ZW1pdGVufTpcXG5gICsgSlNPTi5zdHJpbmdpZnkoa2V5U3RhdHNEYXRhLCBudWxsLCAyKSArICdcXG4nO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXJQcm9tcHQgPSBgSGFyaSBpbmkgYWRhbGFoICR7dG9kYXl9LlxyXG5DYXJpIGRhbiBhbmFsaXNhIGJlcml0YS1iZXJpdGEgVEVSQkFSVSAoYnVsYW4gaW5pL21pbmdndSBpbmkpIHRlbnRhbmcgZW1pdGVuIHNhaGFtIEluZG9uZXNpYSBkZW5nYW4ga29kZSAke2VtaXRlbn0gZGFyaSBpbnRlcm5ldCBtZW5nZ3VuYWthbiBHb29nbGUgU2VhcmNoLiBcclxuJHtrZXlTdGF0c0NvbnRleHR9XHJcbkZPS1VTIEFOQUxJU0E6XHJcbjEuIEZva3VzIHNlcGVudWhueWEgcGFkYSBTVE9SWSBCSVNOSVMsIEFLU0kgS09SUE9SQVNJLCBkYW4gS0FUQUxJUyBmdW5kYW1lbnRhbC9zZW50aW1lbi5cclxuMi4gQUJBSUtBTiBkYXRhIGhhcmdhIHNhaGFtIChwcmljZSBhY3Rpb24pIGthcmVuYSBkYXRhIGhhcmdhIGRhcmkgaW50ZXJuZXQgc2VyaW5na2FsaSB0aWRhayBha3VyYXQgYXRhdSBkZWxheS4gSmFuZ2FuIG1lbnllYnV0a2FuIGFuZ2thIGhhcmdhIHNhaGFtIHNwZXNpZmlrIGRhbGFtIGFuYWxpc2lzLlxyXG4zLiBIdWJ1bmdrYW4gYmVyaXRhIHlhbmcgZGl0ZW11a2FuIGRlbmdhbiBsb2dpa2EgcGFzYXI6IG1lbmdhcGEgYmVyaXRhIGluaSBiYWd1cyBhdGF1IGJ1cnVrIHVudHVrIG1hc2EgZGVwYW4gcGVydXNhaGFhbj9cclxuNC4gU2VidXRrYW4gdGFuZ2dhbCByaWxpcyBiZXJpdGEgeWFuZyBrYW11IGd1bmFrYW4gc2ViYWdhaSByZWZlcmVuc2kgZGkgZGFsYW0gZGVza3JpcHNpIGthdGFsaXMuXHJcbjUuIFRlcmplbWFoa2FuIGRhdGEgS2V5IFN0YXRpc3RpY3MgKHBhaGFtaSBkYXRhIGRpIGF0YXMgamlrYSB0ZXJzZWRpYSkga2UgZGFsYW0gYmFoYXNhIHlhbmcgbXVkYWggZGlwYWhhbWkgdGFwaSBkZXRhaWwgdW50dWsgaW52ZXN0YXNpLiBCZXJpa2FuIGtlc2ltcHVsYW4gYXBha2FoIGRhdGEgdGVyc2VidXQgbWVtYmVyaWthbiBzaWduYWwgJ1Bvc2l0aWYvU2VoYXQnLCAnTmV1dHJhbCcsIGF0YXUgJ05lZ2F0aWYvSGF0aS1oYXRpJyB1bnR1ayBpbnZlc3Rhc2kgamFuZ2thIHBlbmRlayBkYW4gcGFuamFuZy5cclxuXHJcbkJlcmlrYW4gYW5hbGlzaXMgZGFsYW0gZm9ybWF0IEpTT04gZGVuZ2FuIHN0cnVrdHVyIGJlcmlrdXQgKFBBU1RJS0FOIEhBTllBIE9VVFBVVCBKU09OLCB0YW5wYSBtYXJrZG93biBjb2RlIGJsb2NrIGFnYXIgbXVkYWggZGktcGFyc2UpOlxyXG57XHJcbiAgXCJtYXRyaWtzX3N0b3J5XCI6IFtcclxuICAgIHtcclxuICAgICAgXCJrYXRlZ29yaV9zdG9yeVwiOiBcIlRyYW5zZm9ybWFzaSBCaXNuaXMgfCBBa3NpIEtvcnBvcmFzaSB8IFBlbXVsaWhhbiBGdW5kYW1lbnRhbCB8IEtvbmRpc2kgTWFrcm9cIixcclxuICAgICAgXCJkZXNrcmlwc2lfa2F0YWxpc1wiOiBcImRlc2tyaXBzaSBzaW5na2F0IGthdGFsaXNcIixcclxuICAgICAgXCJsb2dpa2FfZWtvbm9taV9wYXNhclwiOiBcInBlbmplbGFzYW4gbG9naWthIGVrb25vbWkvcGFzYXJcIixcclxuICAgICAgXCJwb3RlbnNpX2RhbXBha19oYXJnYVwiOiBcImRhbXBhayB0ZXJoYWRhcCBoYXJnYSBzYWhhbSBuZWdhdGlmL25ldHJhbC9wb3NpdGlmIGRhbiBhbGFzYW5cIlxyXG4gICAgfVxyXG4gIF0sXHJcbiAgXCJzd290X2FuYWx5c2lzXCI6IHtcclxuICAgIFwic3RyZW5ndGhzXCI6IFtcImtla3VhdGFuIHBlcnVzYWhhYW5cIl0sXHJcbiAgICBcIndlYWtuZXNzZXNcIjogW1wia2VsZW1haGFuIHBlcnVzYWhhYW5cIl0sXHJcbiAgICBcIm9wcG9ydHVuaXRpZXNcIjogW1wicGVsdWFuZyBwYXNhclwiXSxcclxuICAgIFwidGhyZWF0c1wiOiBbXCJhbmNhbWFuL3Jpc2lrb1wiXVxyXG4gIH0sXHJcbiAgXCJjaGVja2xpc3Rfa2F0YWxpc1wiOiBbXHJcbiAgICB7XHJcbiAgICAgIFwiaXRlbVwiOiBcImthdGFsaXMgeWFuZyBwZXJsdSBkaXBhbnRhdVwiLFxyXG4gICAgICBcImRhbXBha19pbnN0YW5cIjogXCJkYW1wYWsgamlrYSB0ZXJqYWRpXCJcclxuICAgIH1cclxuICBdLFxyXG4gIFwic3RyYXRlZ2lfdHJhZGluZ1wiOiB7XHJcbiAgICBcInRpcGVfc2FoYW1cIjogXCJqZW5pcyBzYWhhbSAoZ3Jvd3RoL3ZhbHVlL3R1cm5hcm91bmQvZGxsKVwiLFxyXG4gICAgXCJ0YXJnZXRfZW50cnlcIjogXCJhcmVhIGVudHJ5IHlhbmcgZGlzYXJhbmthblwiLFxyXG4gICAgXCJleGl0X3N0cmF0ZWd5XCI6IHtcclxuICAgICAgXCJ0YWtlX3Byb2ZpdFwiOiBcInRhcmdldCB0YWtlIHByb2ZpdFwiLFxyXG4gICAgICBcInN0b3BfbG9zc1wiOiBcImxldmVsIHN0b3AgbG9zc1wiXHJcbiAgICB9XHJcbiAgfSxcclxuICBcImtleXN0YXRfc2lnbmFsXCI6IFwiYW5hbGlzaXMgZGF0YSBrZXkgc3RhdGlzdGljcyBkYWxhbSBiYWhhc2EgYXdhbSBkZW5nYW4gaW5kaWthc2kgc2lnbmFsIGludmVzdGFzaVwiLFxyXG4gIFwia2VzaW1wdWxhblwiOiBcImtlc2ltcHVsYW4gYW5hbGlzaXMgZGFsYW0gMi0zIGthbGltYXRcIlxyXG59YDtcclxuXHJcbiAgICBjb25zdCBjb250ZW50cyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIHJvbGU6ICd1c2VyJyxcclxuICAgICAgICBwYXJ0czogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0ZXh0OiBgJHtzeXN0ZW1Qcm9tcHR9XFxuXFxuJHt1c2VyUHJvbXB0fWAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IHRvb2xzID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgZ29vZ2xlU2VhcmNoOiB7fSxcclxuICAgICAgfSxcclxuICAgIF0gYXMgYW55O1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlU3RyZWFtID0gYXdhaXQgKGFpLm1vZGVscyBhcyBhbnkpLmdlbmVyYXRlQ29udGVudFN0cmVhbSh7XHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICBjb25maWcsXHJcbiAgICAgIGNvbnRlbnRzLFxyXG4gICAgICB0b29scyxcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBmdWxsVGV4dCA9ICcnO1xyXG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXNwb25zZVN0cmVhbSkge1xyXG4gICAgICBpZiAoY2h1bmsudGV4dCkge1xyXG4gICAgICAgIGZ1bGxUZXh0ICs9IGNodW5rLnRleHQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0FnZW50IFN0b3J5XSBHZW1pbmkgcmVzcG9uc2UgcmVjZWl2ZWQgdmlhIHN0cmVhbScpO1xyXG5cclxuICAgIC8vIFBhcnNlIEpTT04gZnJvbSByZXNwb25zZVxyXG4gICAgbGV0IGFuYWx5c2lzUmVzdWx0O1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QganNvbk1hdGNoID0gZnVsbFRleHQubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pO1xyXG4gICAgICBpZiAoanNvbk1hdGNoKSB7XHJcbiAgICAgICAgYW5hbHlzaXNSZXN1bHQgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBKU09OIGZvdW5kIGluIHJlc3BvbnNlJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0FnZW50IFN0b3J5XSBGYWlsZWQgdG8gcGFyc2UgcmVzcG9uc2U6JywgcGFyc2VFcnJvcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbQWdlbnQgU3RvcnldIFJhdyByZXNwb25zZTonLCBmdWxsVGV4dCk7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUFnZW50U3RvcnkocGFyc2VJbnQoc3RvcnlJZCksIHtcclxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogJ0ZhaWxlZCB0byBwYXJzZSBBSSByZXNwb25zZSdcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1BhcnNlIGVycm9yJyB9KSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTYXZlIHN1Y2Nlc3NmdWwgcmVzdWx0XHJcbiAgICBhd2FpdCB1cGRhdGVBZ2VudFN0b3J5KHBhcnNlSW50KHN0b3J5SWQpLCB7XHJcbiAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXHJcbiAgICAgIG1hdHJpa3Nfc3Rvcnk6IGFuYWx5c2lzUmVzdWx0Lm1hdHJpa3Nfc3RvcnkgfHwgW10sXHJcbiAgICAgIHN3b3RfYW5hbHlzaXM6IGFuYWx5c2lzUmVzdWx0LnN3b3RfYW5hbHlzaXMgfHwge30sXHJcbiAgICAgIGNoZWNrbGlzdF9rYXRhbGlzOiBhbmFseXNpc1Jlc3VsdC5jaGVja2xpc3Rfa2F0YWxpcyB8fCBbXSxcclxuICAgICAga2V5c3RhdF9zaWduYWw6IGFuYWx5c2lzUmVzdWx0LmtleXN0YXRfc2lnbmFsIHx8ICcnLFxyXG4gICAgICBzdHJhdGVnaV90cmFkaW5nOiBhbmFseXNpc1Jlc3VsdC5zdHJhdGVnaV90cmFkaW5nIHx8IHt9LFxyXG4gICAgICBrZXNpbXB1bGFuOiBhbmFseXNpc1Jlc3VsdC5rZXNpbXB1bGFuIHx8ICcnXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICBjb25zb2xlLmxvZyhgW0FnZW50IFN0b3J5XSBBbmFseXNpcyBjb21wbGV0ZWQgZm9yICR7ZW1pdGVufSBpbiAke2R1cmF0aW9ufXNgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgc3VjY2VzczogdHJ1ZSwgZW1pdGVuIH0pLCB7IHN0YXR1czogMjAwIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignW0FnZW50IFN0b3J5XSBDcml0aWNhbCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfSksIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59O1xyXG4iLCAiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xyXG5cclxuLyoqXHJcbiAqIFNhdmUgc3RvY2sgcXVlcnkgdG8gZGF0YWJhc2VcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlU3RvY2tRdWVyeShkYXRhOiB7XHJcbiAgZW1pdGVuOiBzdHJpbmc7XHJcbiAgc2VjdG9yPzogc3RyaW5nO1xyXG4gIGZyb21fZGF0ZT86IHN0cmluZztcclxuICB0b19kYXRlPzogc3RyaW5nO1xyXG4gIGJhbmRhcj86IHN0cmluZztcclxuICBiYXJhbmdfYmFuZGFyPzogbnVtYmVyO1xyXG4gIHJhdGFfcmF0YV9iYW5kYXI/OiBudW1iZXI7XHJcbiAgaGFyZ2E/OiBudW1iZXI7XHJcbiAgYXJhPzogbnVtYmVyO1xyXG4gIGFyYj86IG51bWJlcjtcclxuICBmcmFrc2k/OiBudW1iZXI7XHJcbiAgdG90YWxfYmlkPzogbnVtYmVyO1xyXG4gIHRvdGFsX29mZmVyPzogbnVtYmVyO1xyXG4gIHRvdGFsX3BhcGFuPzogbnVtYmVyO1xyXG4gIHJhdGFfcmF0YV9iaWRfb2Zlcj86IG51bWJlcjtcclxuICBhPzogbnVtYmVyO1xyXG4gIHA/OiBudW1iZXI7XHJcbiAgdGFyZ2V0X3JlYWxpc3Rpcz86IG51bWJlcjtcclxuICB0YXJnZXRfbWF4PzogbnVtYmVyO1xyXG59KSB7XHJcbiAgY29uc3QgeyBkYXRhOiByZXN1bHQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3N0b2NrX3F1ZXJpZXMnKVxyXG4gICAgLnVwc2VydChbZGF0YV0sIHsgb25Db25mbGljdDogJ2Zyb21fZGF0ZSxlbWl0ZW4nIH0pXHJcbiAgICAuc2VsZWN0KCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRvIFN1cGFiYXNlOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBzZXNzaW9uIHZhbHVlIGJ5IGtleVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb25WYWx1ZShrZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnc2Vzc2lvbicpXHJcbiAgICAuc2VsZWN0KCd2YWx1ZScpXHJcbiAgICAuZXEoJ2tleScsIGtleSlcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yIHx8ICFkYXRhKSByZXR1cm4gbnVsbDtcclxuICByZXR1cm4gZGF0YS52YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRva2VuIHN0YXR1cyBpbnRlcmZhY2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5TdGF0dXMge1xyXG4gIGV4aXN0czogYm9vbGVhbjtcclxuICBpc1ZhbGlkOiBib29sZWFuO1xyXG4gIHRva2VuPzogc3RyaW5nO1xyXG4gIGV4cGlyZXNBdD86IHN0cmluZztcclxuICBsYXN0VXNlZEF0Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRBdD86IHN0cmluZztcclxuICBpc0V4cGlyaW5nU29vbjogYm9vbGVhbjsgIC8vIFdpdGhpbiAxIGhvdXIgb2YgZXhwaXJ5XHJcbiAgaXNFeHBpcmVkOiBib29sZWFuO1xyXG4gIGhvdXJzVW50aWxFeHBpcnk/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgZnVsbCB0b2tlbiBzdGF0dXMgaW5jbHVkaW5nIGV4cGlyeSBpbmZvcm1hdGlvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRva2VuU3RhdHVzKCk6IFByb21pc2U8VG9rZW5TdGF0dXM+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Nlc3Npb24nKVxyXG4gICAgLnNlbGVjdCgndmFsdWUsIGV4cGlyZXNfYXQsIGxhc3RfdXNlZF9hdCwgaXNfdmFsaWQsIHVwZGF0ZWRfYXQnKVxyXG4gICAgLmVxKCdrZXknLCAnc3RvY2tiaXRfdG9rZW4nKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGV4aXN0czogZmFsc2UsXHJcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICBpc0V4cGlyaW5nU29vbjogZmFsc2UsXHJcbiAgICAgIGlzRXhwaXJlZDogdHJ1ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGV4cGlyZXNBdCA9IGRhdGEuZXhwaXJlc19hdCA/IG5ldyBEYXRlKGRhdGEuZXhwaXJlc19hdCkgOiBudWxsO1xyXG4gIGNvbnN0IGlzRXhwaXJlZCA9IGV4cGlyZXNBdCA/IGV4cGlyZXNBdCA8IG5vdyA6IGZhbHNlO1xyXG4gIGNvbnN0IGhvdXJzVW50aWxFeHBpcnkgPSBleHBpcmVzQXQgXHJcbiAgICA/IChleHBpcmVzQXQuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjApIFxyXG4gICAgOiB1bmRlZmluZWQ7XHJcbiAgY29uc3QgaXNFeHBpcmluZ1Nvb24gPSBob3Vyc1VudGlsRXhwaXJ5ICE9PSB1bmRlZmluZWQgJiYgaG91cnNVbnRpbEV4cGlyeSA8PSAxICYmIGhvdXJzVW50aWxFeHBpcnkgPiAwO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZXhpc3RzOiB0cnVlLFxyXG4gICAgaXNWYWxpZDogZGF0YS5pc192YWxpZCAhPT0gZmFsc2UgJiYgIWlzRXhwaXJlZCxcclxuICAgIHRva2VuOiBkYXRhLnZhbHVlLFxyXG4gICAgZXhwaXJlc0F0OiBkYXRhLmV4cGlyZXNfYXQsXHJcbiAgICBsYXN0VXNlZEF0OiBkYXRhLmxhc3RfdXNlZF9hdCxcclxuICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkX2F0LFxyXG4gICAgaXNFeHBpcmluZ1Nvb24sXHJcbiAgICBpc0V4cGlyZWQsXHJcbiAgICBob3Vyc1VudGlsRXhwaXJ5LFxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcHNlcnQgc2Vzc2lvbiB2YWx1ZSB3aXRoIG9wdGlvbmFsIGV4cGlyeVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydFNlc3Npb24oXHJcbiAga2V5OiBzdHJpbmcsIFxyXG4gIHZhbHVlOiBzdHJpbmcsIFxyXG4gIGV4cGlyZXNBdD86IERhdGVcclxuKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdzZXNzaW9uJylcclxuICAgIC51cHNlcnQoXHJcbiAgICAgIHsgXHJcbiAgICAgICAga2V5LCBcclxuICAgICAgICB2YWx1ZSwgXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIGV4cGlyZXNfYXQ6IGV4cGlyZXNBdD8udG9JU09TdHJpbmcoKSB8fCBudWxsLFxyXG4gICAgICAgIGlzX3ZhbGlkOiB0cnVlLFxyXG4gICAgICAgIGxhc3RfdXNlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB9LFxyXG4gICAgICB7IG9uQ29uZmxpY3Q6ICdrZXknIH1cclxuICAgIClcclxuICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0b2tlbiBsYXN0IHVzZWQgdGltZXN0YW1wIChjYWxsIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHJlcXVlc3QpXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVG9rZW5MYXN0VXNlZCgpIHtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Nlc3Npb24nKVxyXG4gICAgLnVwZGF0ZSh7IGxhc3RfdXNlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXHJcbiAgICAuZXEoJ2tleScsICdzdG9ja2JpdF90b2tlbicpO1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHRva2VuIGxhc3RfdXNlZF9hdDonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogTWFyayB0b2tlbiBhcyBpbnZhbGlkIChjYWxsIHdoZW4gcmVjZWl2aW5nIDQwMSBmcm9tIFN0b2NrYml0IEFQSSlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnZhbGlkYXRlVG9rZW4oKSB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdzZXNzaW9uJylcclxuICAgIC51cGRhdGUoeyBpc192YWxpZDogZmFsc2UgfSlcclxuICAgIC5lcSgna2V5JywgJ3N0b2NrYml0X3Rva2VuJyk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW52YWxpZGF0aW5nIHRva2VuOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdG9rZW4gZXhwaXJ5IHRpbWUgKHR5cGljYWxseSAyNCBob3VycyBmcm9tIGxvZ2luKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFRva2VuRXhwaXJ5KGhvdXJzRnJvbU5vdzogbnVtYmVyID0gMjQpIHtcclxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xyXG4gIGV4cGlyZXNBdC5zZXRIb3VycyhleHBpcmVzQXQuZ2V0SG91cnMoKSArIGhvdXJzRnJvbU5vdyk7XHJcbiAgXHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdzZXNzaW9uJylcclxuICAgIC51cGRhdGUoeyBleHBpcmVzX2F0OiBleHBpcmVzQXQudG9JU09TdHJpbmcoKSB9KVxyXG4gICAgLmVxKCdrZXknLCAnc3RvY2tiaXRfdG9rZW4nKTtcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHRva2VuIGV4cGlyeTonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2F2ZSB3YXRjaGxpc3QgYW5hbHlzaXMgdG8gZGF0YWJhc2UgKHJldXNpbmcgc3RvY2tfcXVlcmllcyB0YWJsZSlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlV2F0Y2hsaXN0QW5hbHlzaXMoZGF0YToge1xyXG4gIGZyb21fZGF0ZTogc3RyaW5nOyAgLy8gYW5hbHlzaXMgZGF0ZVxyXG4gIHRvX2RhdGU6IHN0cmluZzsgICAgLy8gc2FtZSBhcyBmcm9tX2RhdGUgZm9yIGRhaWx5IGFuYWx5c2lzXHJcbiAgZW1pdGVuOiBzdHJpbmc7XHJcbiAgc2VjdG9yPzogc3RyaW5nO1xyXG4gIGJhbmRhcj86IHN0cmluZztcclxuICBiYXJhbmdfYmFuZGFyPzogbnVtYmVyO1xyXG4gIHJhdGFfcmF0YV9iYW5kYXI/OiBudW1iZXI7XHJcbiAgaGFyZ2E/OiBudW1iZXI7XHJcbiAgYXJhPzogbnVtYmVyOyAgICAgICAvLyBvZmZlcl90ZXJhdGFzXHJcbiAgYXJiPzogbnVtYmVyOyAgICAgICAvLyBiaWRfdGVyYmF3YWhcclxuICBmcmFrc2k/OiBudW1iZXI7XHJcbiAgdG90YWxfYmlkPzogbnVtYmVyO1xyXG4gIHRvdGFsX29mZmVyPzogbnVtYmVyO1xyXG4gIHRvdGFsX3BhcGFuPzogbnVtYmVyO1xyXG4gIHJhdGFfcmF0YV9iaWRfb2Zlcj86IG51bWJlcjtcclxuICBhPzogbnVtYmVyO1xyXG4gIHA/OiBudW1iZXI7XHJcbiAgdGFyZ2V0X3JlYWxpc3Rpcz86IG51bWJlcjtcclxuICB0YXJnZXRfbWF4PzogbnVtYmVyO1xyXG4gIHN0YXR1cz86IHN0cmluZztcclxuICBlcnJvcl9tZXNzYWdlPzogc3RyaW5nO1xyXG59KSB7XHJcbiAgY29uc3QgeyBkYXRhOiByZXN1bHQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3N0b2NrX3F1ZXJpZXMnKVxyXG4gICAgLnVwc2VydChbZGF0YV0sIHsgb25Db25mbGljdDogJ2Zyb21fZGF0ZSxlbWl0ZW4nIH0pXHJcbiAgICAuc2VsZWN0KCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHdhdGNobGlzdCBhbmFseXNpczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgd2F0Y2hsaXN0IGFuYWx5c2lzIGhpc3Rvcnkgd2l0aCBvcHRpb25hbCBmaWx0ZXJzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0V2F0Y2hsaXN0QW5hbHlzaXNIaXN0b3J5KGZpbHRlcnM/OiB7XHJcbiAgZW1pdGVuPzogc3RyaW5nO1xyXG4gIHNlY3Rvcj86IHN0cmluZztcclxuICBmcm9tRGF0ZT86IHN0cmluZztcclxuICB0b0RhdGU/OiBzdHJpbmc7XHJcbiAgc3RhdHVzPzogc3RyaW5nO1xyXG4gIGxpbWl0PzogbnVtYmVyO1xyXG4gIG9mZnNldD86IG51bWJlcjtcclxuICBzb3J0Qnk/OiBzdHJpbmc7XHJcbiAgc29ydE9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XHJcbn0pIHtcclxuICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3N0b2NrX3F1ZXJpZXMnKVxyXG4gICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcgfSk7XHJcblxyXG4gIC8vIEhhbmRsZSBzb3J0aW5nXHJcbiAgY29uc3Qgc29ydEJ5ID0gZmlsdGVycz8uc29ydEJ5IHx8ICdmcm9tX2RhdGUnO1xyXG4gIGNvbnN0IHNvcnRPcmRlciA9IGZpbHRlcnM/LnNvcnRPcmRlciB8fCAnZGVzYyc7XHJcblxyXG4gIGlmIChzb3J0QnkgPT09ICdjb21iaW5lZCcpIHtcclxuICAgIC8vIFNvcnQgYnkgZGF0ZSB0aGVuIGVtaXRlblxyXG4gICAgcXVlcnkgPSBxdWVyeVxyXG4gICAgICAub3JkZXIoJ2Zyb21fZGF0ZScsIHsgYXNjZW5kaW5nOiBzb3J0T3JkZXIgPT09ICdhc2MnIH0pXHJcbiAgICAgIC5vcmRlcignZW1pdGVuJywgeyBhc2NlbmRpbmc6IHNvcnRPcmRlciA9PT0gJ2FzYycgfSk7XHJcbiAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICdlbWl0ZW4nKSB7XHJcbiAgICAvLyBXaGVuIHNvcnRpbmcgYnkgZW1pdGVuLCBzZWNvbmRhcnkgc29ydCBieSBkYXRlIGFzY2VuZGluZ1xyXG4gICAgcXVlcnkgPSBxdWVyeVxyXG4gICAgICAub3JkZXIoJ2VtaXRlbicsIHsgYXNjZW5kaW5nOiBzb3J0T3JkZXIgPT09ICdhc2MnIH0pXHJcbiAgICAgIC5vcmRlcignZnJvbV9kYXRlJywgeyBhc2NlbmRpbmc6IHRydWUgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoc29ydEJ5LCB7IGFzY2VuZGluZzogc29ydE9yZGVyID09PSAnYXNjJyB9KTtcclxuICB9XHJcblxyXG4gIGlmIChmaWx0ZXJzPy5lbWl0ZW4pIHtcclxuICAgIGNvbnN0IGVtaXRlbkxpc3QgPSBmaWx0ZXJzLmVtaXRlbi5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcclxuICAgIGlmIChlbWl0ZW5MaXN0Lmxlbmd0aCA+IDApIHsgLy8gQ2hhbmdlZCB0byBhbHdheXMgdXNlIC5pbigpIGlmIGVtaXRlbnMgYXJlIHByZXNlbnRcclxuICAgICAgcXVlcnkgPSBxdWVyeS5pbignZW1pdGVuJywgZW1pdGVuTGlzdCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChmaWx0ZXJzPy5zZWN0b3IpIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3NlY3RvcicsIGZpbHRlcnMuc2VjdG9yKTtcclxuICB9XHJcbiAgaWYgKGZpbHRlcnM/LmZyb21EYXRlKSB7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnZnJvbV9kYXRlJywgZmlsdGVycy5mcm9tRGF0ZSk7XHJcbiAgfVxyXG4gIGlmIChmaWx0ZXJzPy50b0RhdGUpIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkubHRlKCdmcm9tX2RhdGUnLCBmaWx0ZXJzLnRvRGF0ZSk7XHJcbiAgfVxyXG4gIGlmIChmaWx0ZXJzPy5zdGF0dXMpIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIGZpbHRlcnMuc3RhdHVzKTtcclxuICB9XHJcbiAgaWYgKGZpbHRlcnM/LmxpbWl0KSB7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KGZpbHRlcnMubGltaXQpO1xyXG4gIH1cclxuICBpZiAoZmlsdGVycz8ub2Zmc2V0KSB7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKGZpbHRlcnMub2Zmc2V0LCBmaWx0ZXJzLm9mZnNldCArIChmaWx0ZXJzLmxpbWl0IHx8IDUwKSAtIDEpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHF1ZXJ5O1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHdhdGNobGlzdCBhbmFseXNpczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGNvdW50IH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgbGF0ZXN0IHN0b2NrIHF1ZXJ5IGZvciBhIHNwZWNpZmljIGVtaXRlblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhdGVzdFN0b2NrUXVlcnkoZW1pdGVuOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3N0b2NrX3F1ZXJpZXMnKVxyXG4gICAgLnNlbGVjdCgnKicpXHJcbiAgICAuZXEoJ2VtaXRlbicsIGVtaXRlbilcclxuICAgIC5lcSgnc3RhdHVzJywgJ3N1Y2Nlc3MnKVxyXG4gICAgLm9yZGVyKCdmcm9tX2RhdGUnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgIC5saW1pdCgxKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIHRoZSBtb3N0IHJlY2VudCBwcmV2aW91cyBkYXkncyByZWFsIHByaWNlIGZvciBhbiBlbWl0ZW5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcmV2aW91c0RheVJlYWxQcmljZShlbWl0ZW46IHN0cmluZywgY3VycmVudERhdGU6IHN0cmluZywgcHJpY2U6IG51bWJlcikge1xyXG4gIC8vIDEuIEZpbmQgdGhlIGxhdGVzdCBzdWNjZXNzZnVsIHJlY29yZCBiZWZvcmUgY3VycmVudERhdGVcclxuICBjb25zdCB7IGRhdGE6IHJlY29yZCwgZXJyb3I6IGZpbmRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdzdG9ja19xdWVyaWVzJylcclxuICAgIC5zZWxlY3QoJ2lkLCBmcm9tX2RhdGUnKVxyXG4gICAgLmVxKCdlbWl0ZW4nLCBlbWl0ZW4pXHJcbiAgICAuZXEoJ3N0YXR1cycsICdzdWNjZXNzJylcclxuICAgIC5sdCgnZnJvbV9kYXRlJywgY3VycmVudERhdGUpXHJcbiAgICAub3JkZXIoJ2Zyb21fZGF0ZScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgLmxpbWl0KDEpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChmaW5kRXJyb3IgfHwgIXJlY29yZCkge1xyXG4gICAgaWYgKGZpbmRFcnJvciAmJiBmaW5kRXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2JykgeyAvLyBQR1JTVDExNiBpcyBcIm5vIHJvd3MgcmV0dXJuZWRcIlxyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmaW5kaW5nIHByZXZpb3VzIHJlY29yZCBmb3IgJHtlbWl0ZW59IGJlZm9yZSAke2N1cnJlbnREYXRlfTpgLCBmaW5kRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyAyLiBVcGRhdGUgdGhhdCByZWNvcmQgd2l0aCB0aGUgbmV3IHByaWNlXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnc3RvY2tfcXVlcmllcycpXHJcbiAgICAudXBkYXRlKHsgcmVhbF9oYXJnYTogcHJpY2UgfSlcclxuICAgIC5lcSgnaWQnLCByZWNvcmQuaWQpXHJcbiAgICAuc2VsZWN0KCk7XHJcblxyXG4gIGlmICh1cGRhdGVFcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgcmVhbF9oYXJnYSBmb3IgJHtlbWl0ZW59IG9uICR7cmVjb3JkLmZyb21fZGF0ZX06YCwgdXBkYXRlRXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgYWdlbnQgc3RvcnkgcmVjb3JkIHdpdGggcGVuZGluZyBzdGF0dXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBZ2VudFN0b3J5KGVtaXRlbjogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdhZ2VudF9zdG9yaWVzJylcclxuICAgIC5pbnNlcnQoeyBlbWl0ZW4sIHN0YXR1czogJ3BlbmRpbmcnIH0pXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhZ2VudCBzdG9yeTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIGFnZW50IHN0b3J5IHdpdGggcmVzdWx0IG9yIGVycm9yXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQWdlbnRTdG9yeShpZDogbnVtYmVyLCBkYXRhOiB7XHJcbiAgc3RhdHVzOiAncHJvY2Vzc2luZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XHJcbiAgbWF0cmlrc19zdG9yeT86IG9iamVjdFtdO1xyXG4gIHN3b3RfYW5hbHlzaXM/OiBvYmplY3Q7XHJcbiAgY2hlY2tsaXN0X2thdGFsaXM/OiBvYmplY3RbXTtcclxuICBrZXlzdGF0X3NpZ25hbD86IHN0cmluZztcclxuICBzdHJhdGVnaV90cmFkaW5nPzogb2JqZWN0O1xyXG4gIGtlc2ltcHVsYW4/OiBzdHJpbmc7XHJcbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZztcclxufSkge1xyXG4gIGNvbnN0IHsgZGF0YTogcmVzdWx0LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdhZ2VudF9zdG9yaWVzJylcclxuICAgIC51cGRhdGUoZGF0YSlcclxuICAgIC5lcSgnaWQnLCBpZClcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGFnZW50IHN0b3J5OicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBsYXRlc3QgYWdlbnQgc3RvcnkgZm9yIGFuIGVtaXRlblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFnZW50U3RvcnlCeUVtaXRlbihlbWl0ZW46IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnYWdlbnRfc3RvcmllcycpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgnZW1pdGVuJywgZW1pdGVuLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgIC5saW1pdCgxKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWdlbnQgc3Rvcnk6JywgZXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGEgfHwgbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgYWdlbnQgc3RvcmllcyBmb3IgYW4gZW1pdGVuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWdlbnRTdG9yaWVzQnlFbWl0ZW4oZW1pdGVuOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSAyMCkge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnYWdlbnRfc3RvcmllcycpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgnZW1pdGVuJywgZW1pdGVuLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgIC5saW1pdChsaW1pdCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWdlbnQgc3RvcmllczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhIHx8IFtdO1xyXG59XHJcblxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ0FBLHlCQUE2QjtBQUU3QixJQUFNLGNBQWMsUUFBUSxJQUFJO0FBQ2hDLElBQU0sa0JBQWtCLFFBQVEsSUFBSTtBQUU3QixJQUFNLGVBQVcsaUNBQWEsYUFBYSxlQUFlO0FBNFdqRSxlQUFzQixpQkFBaUIsSUFBWSxNQVNoRDtBQUNELFFBQU0sRUFBRSxNQUFNLFFBQVEsTUFBTSxJQUFJLE1BQU0sU0FDbkMsS0FBSyxlQUFlLEVBQ3BCLE9BQU8sSUFBSSxFQUNYLEdBQUcsTUFBTSxFQUFFLEVBQ1gsT0FBTyxFQUNQLE9BQU87QUFFVixNQUFJLE9BQU87QUFDVCxZQUFRLE1BQU0sK0JBQStCLEtBQUs7QUFDbEQsVUFBTTtBQUFBLEVBQ1I7QUFFQSxTQUFPO0FBQ1Q7OztBRHZZQSxtQkFBMkM7QUFFM0MsSUFBTSxpQkFBaUIsUUFBUSxJQUFJO0FBRW5DLElBQU8sbUNBQVEsT0FBTyxRQUFpQjtBQUNyQyxRQUFNLFlBQVksS0FBSyxJQUFJO0FBQzNCLFVBQVEsSUFBSSw2REFBNkQ7QUFFekUsTUFBSTtBQUNGLFVBQU0sTUFBTSxJQUFJLElBQUksSUFBSSxHQUFHO0FBQzNCLFVBQU0sU0FBUyxJQUFJLGFBQWEsSUFBSSxRQUFRLEdBQUcsWUFBWTtBQUMzRCxVQUFNLFVBQVUsSUFBSSxhQUFhLElBQUksSUFBSTtBQUV6QyxRQUFJLENBQUMsVUFBVSxDQUFDLFNBQVM7QUFDdkIsYUFBTyxJQUFJLFNBQVMsS0FBSyxVQUFVLEVBQUUsT0FBTyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxJQUFJLENBQUM7QUFBQSxJQUN4RjtBQUVBLFFBQUksZUFBZTtBQUNuQixRQUFJO0FBQ0YsWUFBTSxPQUFPLE1BQU0sSUFBSSxL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
